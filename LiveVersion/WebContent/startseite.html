<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="Steffen Selz, Michael Wenk">
<meta name="description"
	content="Erstellung einer Online-Datenbank als Werkzeugverwaltungs- und Dokumentationssystem">
	<!-- Favicon im Browserfenster -->
<link rel="shortcut icon" type="image/x-icon" href="assets/Icons/hammer1.png">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>

<link href="bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="assets/css/custom.css">
<link rel="stylesheet" href="assets/css/custom-themes.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href="style.css" rel="stylesheet">
<script src="assets/js/custom.js"></script>

</head>
<body>

	<div class="page-wrapper chiller-theme toggled">
		<!-- SeitenleisteStart -->
		<nav id="sidebar" class="sidebar-wrapper" data-color="#555">

			<div id="toggle-sidebar">
				<div></div>
				<div></div>
				<div></div>
			</div>
			<div class="sidebar-brand">
				<a href="#">Eigenschaften</a>
			</div>
			<div class="sidebar-menu">
				<ul>
					<li class="nav-item"><a class="nav-link"
						href="http://www01.bw.hs-offenburg.de/winprj01/startseite.html">
							<span data-feather="file"></span> Home
					</a></li>
					<li class="nav-item" id="superadminverwaltung"
						style="display: none;"><a class="nav-link"
						href="benutzerverwaltung.html"> <span data-feather="file"></span>
							Benutzerverwaltung
					</a></li>

					<li class="nav-item" id="adminverwaltung" style="display: none;">
						<a class="nav-link" href="benutzerverwaltungadmin.html"> <span
							data-feather="file"></span> Benutzerverwaltung
					</a>
					</li>

					<li class="nav-item"><a class="nav-link"
						href="stammdaten.html"> <span data-feather="file"></span>
							Stammdaten
					</a></li>
					<li class="nav-item"><a class="nav-link"
						href="werkzeugverwaltung.html"> <span data-feather="file"></span>
							Werkzeugverwaltung
					</a></li>
					<li style="display: none;" id="dokuverwaltung" class="nav-item"><a class="nav-link"
						href="dokumentenverwaltung.html"> <span data-feather="file"></span>
							Dokumentenverwaltung
					</a></li>
					<li class="nav-item listenende"><a class="nav-link" href="index.html"
						onclick="deleteAllCookies()"> <span data-feather="file"></span>Logout
					</a></li>


				</ul>
			</div>

		</nav>

		<!-- Seitenleiste Ende -->
		<div class="page-content">
			<div class="container-fluid">
				<div class="row">
					<div class="form-group col-md-12" id="überschrift">
						<h1 id="inhalt">Werkzeugverwaltung Startseite</h1>
						<p id="klein">Erstellung einer Online-Datenbank als
							Werkzeugverwaltungs- und Dokumentationstool</p>

						<h1 id="inhalt">Inhalt</h1>
					</div>
				</div>


				<div class="row">

					<div class="col-md-4 card mb-4 box-shadow" id="backupbox">

						<div class="card-body">
							<h2 class="abstandunten ">Backup</h2>
							<p class="abstandunten">Hier kann der Administrator ein
								Backup anlegen. Wenn mehr als 7 Tage lang kein Backup angelegt
								wurde, dann wird eine Meldung angezeigt. Für Nutzer ohne
								Administrator-Rechten ist der Kasten nicht sichtbar.</p>
							<div id="anzeigevonbackup" class="abstandoben">
								<p>Letztes BackUp:</p>
								<div id="backup_anzeige"></div>

								<a class="btn btn-success abstandunten abstandoben "
									onclick="startbackup()" href="#" style="width: 200px;">BackUp
									starten</a>

								<div id="loadbox" class="abstandoben"></div>
							</div>
						</div>


					</div>
					<div class="col-md-4">
						<div class="card mb-4 box-shadow">
							<div class="card-body">
								<h2>Favoriten</h2>
								<p class="card-text">Mit der Favoritenliste soll der Nutzer wie bei einem Lesezeichen seine wichtigsten Werkzeuge auswählen und 
								für einen schnellen Aufruf abspeichern. Auf diese Weise kann eine große Zeitersparnis erzielt werden. </p>
								<a class="btn btn-success" href="http://www.google.de" target="_blank">Favoriten</a>
								
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<div class="card mb-4 box-shadow">
							<div class="card-body">
							<h2>Zuletzt aufgerufene Werkzeuge</h2>
								<p class="card-text">In dieser Rubrik sollen die zuletzt aufgerufenen Werkzeuge angezeigt werden. 
								Dadurch wird es dem Nutzer erleichert, seine letzten Schritte zurückzuverfolgen und bei Änderungsbedarf seine Werkzeuge schneller wieder zu finden</p>
								<a class="btn btn-success" href="http://www.google.de" target="_blank">Letzte Werkzeuge</a>
							</div>
						</div>
					</div>

				</div>

				<!-- Zweite Reihe -->
				<div class="row">

					<div class="col-md-4">
						<div class="card mb-4 box-shadow">
							<div class="card-body">
							<h2>Relaxo</h2>
								<p class="card-text">Relaxo ist ein Framework, welches die App-Entwicklung erheblich vereinfacht.
								Es beinhaltet eine Vielzahl an vorgegebenen Funktionen, welche direkt in das bestehende Projekt übernommen werden können.
								Auch externe Frameworks wie Bootstrap können problemlos integriert und in vollem Umfang genutzt werden.
								Auf diese Weise kann man sich hunderte Stunden an Programmierarbeit sparen und dennoch ein mindestens genauso gutes Ergebnis erzielen.
								Eine ansprechende Aufgabe wäres es, diese Anwendung in Relaxo zu überführen und zu schauen, ob man so noch weitere Verebsserungen erzielen kann.</p>
								<a class="btn btn-success" href="https://github.com/ioquatix/relaxo-model" target="_blank">Relaxo</a>
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<div class="card mb-4 box-shadow">
							<div class="card-body">
							<h2>Wikipedia</h2>
								
								<p class="card-text">Wikipedia ist ein am 15. Januar 2001 gegründetes gemeinnütziges Projekt zur Erstellung einer Enzyklopädie in zahlreichen 
								Sprachen mit Hilfe des Wiki­prinzips. Gemäß Publikumsnachfrage und Verbreitung gehört Wikipedia unterdessen zu den Massenmedien. 
								Aufgrund der für die Entstehung und Weiterentwicklung dieser Enzyklopädie charakteristischen kollaborativen Erstellungs-, Kontroll- und Aushandlungsprozesse 
								der ehrenamtlichen Beteiligten zählt Wikipedia zugleich zu den Social Media.
								Die Online-Enzyklopädie bietet freie, also kostenlose Artikel. 
								</p>
								<a class="btn btn-success" href="http://www.wikipedia.org" target="_blank">Wikipedia</a>
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<div class="card mb-4 box-shadow">
							<div class="card-body">
							<h2>Google</h2>
								<p class="card-text">Google ist eine Internet-Suchmaschine des US-amerikanischen Unternehmens Google LLC. 
								Übereinstimmende Statistiken zeigen bei weltweiten Suchanfragen Google als Marktführer unter den Internet-Suchmaschinen und als die meistbesuchte Website der Welt.
								Google bearbeitet pro Tag mehr als 3 Milliarden Suchanfragen und hatte im Dezember 2012 über 1,17 Milliarden Nutzer.
								Google steht in direkter Konkurrenz zu anderen Suchmaschinen wie zum Beispiel Bing, Yandex in Russland und Baidu in China. 
								Google hat in Europa und Deutschland einen Marktanteil von über 90 %.</p>
								<a class="btn btn-success" href="http://www.google.de" target="_blank">Google</a>
							</div>
						</div>
					</div>

				</div>


			</div>
			<footer class="container  py-5">
				<div class="row">
					<div class="col-6 col-md">
						<h5>Features</h5>
						<ul class="list-unstyled text-small">
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>

						</ul>
					</div>
					<div class="col-6 col-md">
						<h5>Peaks</h5>
						<ul class="list-unstyled text-small">
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
						</ul>
					</div>
					<div class="col-6 col-md">
						<h5>Resources</h5>
						<ul class="list-unstyled text-small">
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
						</ul>
					</div>
					<div class="col-6 col-md">
						<h5>About</h5>
						<ul class="list-unstyled text-small">
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
							<li><a class="text-muted" href="#">Inhalt</a></li>
						</ul>
					</div>
				</div>
			</footer>

		</div>
	</div>


	<script>
		var uid = Cookies.get("name");
		var tok1 = Cookies.get("token");
		var tok2 = Cookies.get("token_login");
		$
				.ajax({
					type : "GET",
					url : "http://www01.bw.hs-offenburg.de/winprj01/Includes/Benutzerverwaltung/adminverwaltung.inc.php?jsoncallback=?",
					data : {
						"username" : uid,
						"token" : tok1,
						"token_login" : tok2
					},
					dataType : "JSONp",
					timeout : 5000,
					success : function(data) {
						if (data == "sadmin") {
							document.getElementById('superadminverwaltung').style.display = "block";
						} else if (data == "admin") {
							document.getElementById('adminverwaltung').style.display = "block";
						} else if (data == "noadmin") {

						} else {
							alert("Login ungültig");
							document.location.href = "http://www01.bw.hs-offenburg.de/winprj01/index.html";
						}
					},
					error : function(request, error) {
						console.log(arguments);
						alert(" Can't do because: " + error);
						document.location.href = "http://www01.bw.hs-offenburg.de/winprj01/index.html";
					}
				});
		var uid = Cookies.get("name");
		var tok1 = Cookies.get("token");
		var tok2 = Cookies.get("token_login");
		$
				.ajax({
					type : "GET",
					url : "http://www01.bw.hs-offenburg.de/winprj01/Includes/Backup/timestamp.inc.php?jsoncallback=?",
					data : {
						"username" : uid,
						"token" : tok1,
						"token_login" : tok2
					},
					dataType : "JSONp",
					timeout : 5000,
					success : function(data) {
						if (data == "rights" || data == "token") {
							document.getElementById('anzeigevonbackup').style.display = "none";
						} else {
							var res = data.split(";");
							if (res[1]) {
								var output = res[0]
										+ "<br>Es wurde seit mehr als 7 Tage kein BackUp mehr durchgeführt! Bitte führen Sie ein BackUp durch. <br>";
								$('#backup_anzeige').html(output);
								//$('#backupbox').css("background-color","red");
								alert("Seit mehr als 7 Tagen kein Backup ausgeführt!");
							} else {
								$('#backup_anzeige').html(res[0]);
							}
						}
					},
					error : function(request, error) {
						console.log(arguments);
						alert(" Can't do because: " + error);
					}
				});
		function startbackup() {
			var uid = Cookies.get("name");
			var tok1 = Cookies.get("token");
			var tok2 = Cookies.get("token_login");
			$
					.ajax({
						type : "GET",
						url : "http://www01.bw.hs-offenburg.de/winprj01/Includes/Backup/backup.inc.php?jsoncallback=?",
						data : {
							"username" : uid,
							"token" : tok1,
							"token_login" : tok2
						},
						dataType : "JSONp",
						timeout : 5000,
						success : function(data) {
							if (data == "success") {
								downbtn = '<a style="width:200px;" class="btn btn-success" href="http://www01.bw.hs-offenburg.de/winprj01/Includes/Backup/backup_dump.sql" download>Download</a>';
								$('#loadbox').html(downbtn);
							} else if ("token") {
								alert("Sitzung abgelaufen!");
								document.location.href = "http://www01.bw.hs-offenburg.de/winprj01/index.html";
							} else if ("rights") {
								alert("keine Rechte!");
							} else {
								alert("Unbekannter Fehler aufgetreten.");
							}

						},
						error : function(request, error) {
							console.log(arguments);
							alert(" Can't do because: " + error);
						}
					});
		}
	</script>
	<!-- Cookies löschen für Logout -->
	<script>
		function deleteAllCookies() {
			Cookies.remove('name');
			Cookies.remove('token');
			Cookies.remove('token_login');
		}
	</script>
	<!-- Dokumentenverwaltung in Sidebar anzeigen bei Zugriffsrechten -->
		<script type="text/javascript">
		//Startleiste
		var uid = Cookies.get("name");
		var tok1 = Cookies.get("token");
		var tok2 = Cookies.get("token_login");
		$
				.ajax({
					type : "GET",
					url : "http://www01.bw.hs-offenburg.de/winprj01/Includes/Benutzerverwaltung/adminverwaltung.inc.php?jsoncallback=?",
					data : {
						"username" : uid,
						"token" : tok1,
						"token_login" : tok2
					},
					dataType : "JSONp",
					timeout : 5000,
					success : function(data) {
						if (data == "sadmin") {
							document.getElementById('dokuverwaltung').style.display = "block";
						} else if (data == "admin") {
							document.getElementById('dokuverwaltung').style.display = "block";
						} else if (data == "noadmin") {
							document.getElementById('dokuverwaltung').style.display = "block";
						} else {
							//alert("Doku aus");
						}
					},
					error : function(request, error) {
						console.log(arguments);
						alert(" Can't do because: " + error);
						document.location.href = "http://www01.bw.hs-offenburg.de/winprj01/index.html";
					}
				});
	</script>
</body>
</html>